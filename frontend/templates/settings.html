<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - AGKS</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .form-group {
            margin-bottom: var(--spacing-md);
        }

        label {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        input,
        select {
            width: 100%;
            max-width: 400px;
            padding: 0.75rem;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--accent-cyan);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
        }

        .info-box {
            background: rgba(0, 212, 255, 0.1);
            border-left: 4px solid var(--accent-cyan);
            padding: 1rem;
            border-radius: var(--radius-sm);
            margin-top: var(--spacing-md);
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="AGKS Logo"
                    style="height: 55px; margin-right: 12px;">
                Akıllı Gözetim Koruma Sistemi
            </div>
            <ul class="nav-links">
                <li><a href="/" class="nav-link">Dashboard</a></li>
                <li><a href="/monitor" class="nav-link">Live Monitor</a></li>
                <li><a href="/alerts" class="nav-link">Alerts</a></li>
                <li><a href="/settings" class="nav-link active">Settings</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <!-- Page Header -->
        <div class="page-header fade-in">
            <h1>System Settings</h1>
            <p class="page-subtitle">Configure surveillance parameters and preferences</p>
        </div>

        <!-- Current Configuration Info -->
        <div class="glass-card mb-4 fadeIn">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-info-circle"></i> Current Configuration</h3>
            </div>
            <div class="card-body">
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);">
                    <div>
                        <strong style="color: var(--text-primary);">Resolution:</strong>
                        <span style="color: var(--accent-cyan);">640x480</span>
                    </div>
                    <div>
                        <strong style="color: var(--text-primary);">Pre-Event Buffer:</strong>
                        <span style="color: var( --accent-cyan);">5 seconds</span>
                    </div>
                    <div>
                        <strong style="color: var(--text-primary);">Post-Event Recording:</strong>
                        <span style="color: var(--accent-cyan);">5 seconds</span>
                    </div>
                    <div>
                        <strong style="color: var(--text-primary);">Alert Cooldown:</strong>
                        <span style="color: var(--accent-cyan);">5 seconds</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Notice -->
        <div class="info-box mb-4">
            <p style="margin: 0; color: var(--text-primary);">
                <i class="fas fa-info-circle"></i>
                <strong>Note:</strong> Settings are currently read from the configuration file
                (<code>backend/app/config.py</code>).
                To change settings permanently, edit the configuration file and restart the server.
            </p>
        </div>

        <!-- Configuration Display (Read-Only for now) -->
        <div class="glass-card mb-4 fade-in">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-camera"></i> Camera Configuration</h3>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label>Camera Index</label>
                    <input type="number" value="0" disabled style="opacity: 0.7;">
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Restart required to change camera
                    </p>
                </div>
                <div class="form-group">
                    <label>Resolution</label>
                    <select disabled style="opacity: 0.7;">
                        <option value="640x480" selected>640x480 (Optimized for Speed)</option>
                    </select>
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Fixed at 640x480 for optimal performance
                    </p>
                </div>
                <div class="form-group">
                    <label>Frame Rate</label>
                    <input type="number" value="30" disabled style="opacity: 0.7; max-width: 150px;">
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Optimized at 30 FPS
                    </p>
                </div>
            </div>
        </div>

        <!-- Recording Settings -->
        <div class="glass-card mb-4 fade-in" style="animation-delay: 0.1s;">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-video"></i> Recording Configuration</h3>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label>Pre-Event Buffer</label>
                    <input type="number" value="5" disabled style="opacity: 0.7; max-width: 150px;">
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Configured: 5 seconds before threat detection
                    </p>
                </div>
                <div class="form-group">
                    <label>Post-Event Recording</label>
                    <input type="number" value="5" disabled style="opacity: 0.7; max-width: 150px;">
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Configured: 5 seconds after threat cleared
                    </p>
                </div>
                <div class="form-group">
                    <label>Alert Cooldown</label>
                    <input type="number" value="5" disabled style="opacity: 0.7; max-width: 150px;">
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Configured: 5 seconds between alerts
                    </p>
                </div>
            </div>
        </div>

        <!-- Telegram Settings -->
        <div class="glass-card mb-4 fade-in" style="animation-delay: 0.2s;">
            <div class="card-header">
                <h3 class="card-title"><i class="fab fa-telegram"></i> Telegram Notifications</h3>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label>Status</label>
                    <span class="badge badge-online" style="font-size: 1rem;">
                        <i class="fas fa-check-circle"></i> Configured & Active
                    </span>
                    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: 0.5rem;">
                        Bot token and chat ID configured in environment
                    </p>
                </div>
            </div>
        </div>

        <!-- Help Section -->
        <div class="glass-card fade-in" style="animation-delay: 0.3s;">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-question-circle"></i> How to Change Settings</h3>
            </div>
            <div class="card-body">
                <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-sm);">Configuration File</h4>
                <p style="color: var(--text-secondary); margin-bottom: var(--spacing-md);">
                    Settings are defined in: <code
                        style="background: var(--bg-tertiary); padding: 0.25rem 0.5rem; border-radius: 4px;">backend/app/config.py</code>
                </p>

                <h4 style="color: var(--text-primary); margin-bottom: var(--spacing-sm);">Steps to Update:</h4>
                <ol style="color: var(--text-secondary); padding-left: 1.5rem;">
                    <li style="margin-bottom: 0.5rem;">Stop the running server (Ctrl+C)</li>
                    <li style="margin-bottom: 0.5rem;">Edit <code>backend/app/config.py</code></li>
                    <li style="margin-bottom: 0.5rem;">Modify the values you want to change</li>
                    <li style="margin-bottom: 0.5rem;">Save the file</li>
                    <li style="margin-bottom: 0.5rem;">Restart the server: <code>python run.py</code></li>
                </ol>

                <h4
                    style="color: var(--text-primary); margin-top: var(--spacing-lg); margin-bottom: var(--spacing-sm);">
                    Available Settings:</h4>
                <ul style="color: var(--text-secondary); padding-left: 1.5rem;">
                    <li><code>CAMERA_INDEX</code> - Which camera to use (0, 1, 2, etc.)</li>
                    <li><code>PRE_EVENT_SECONDS</code> - Buffer before detection (default: 5)</li>
                    <li><code>POST_EVENT_SECONDS</code> - Recording after detection (default: 5)</li>
                    <li><code>COOLDOWN_SECONDS</code> - Time between alerts (default: 5)</li>
                    <li><code>TELEGRAM_BOT_TOKEN</code> - Your bot token</li>
                    <li><code>CHAT_ID</code> - Your Telegram chat ID</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Display current configuration from backend (if API available)
        // For now, showing static values from config
    </script>
</body>

</html>